/* 整体页面布局容器 */
.page-container {
    display: flex;
    min-height: 100vh;
    flex-direction: row; /* 确保横向排列 */
    align-items: center;

    /* 主侧边栏样式 */
    .main-sidebar {
        width: 20rem; /* 侧边栏宽度 */
        
        background-color: var(--c-pageBackground); /* 可选背景色 */
        padding: 1rem;
        position: fixed;
        left: 0;
        align-self: flex-start;
        height: 100%;
        overflow-y: auto;
    }

    /* 针对 Webkit 内核浏览器 (Chrome, Safari, Edge) */
    .main-sidebar::-webkit-scrollbar-track {
    background-color: var(--c-sideBarTrack); /* 滚动条轨道的底色 */
    border-radius: 4px;
    }

    .main-sidebar::-webkit-scrollbar {
    width: 10px; /* 设置滚动条的宽度 */
    }

    .main-sidebar::-webkit-scrollbar-thumb {
    background-color: var(--c-sideBarSlider); /* 滚动条滑块的底色 */
    border-radius: 4px;
    }

    .main-sidebar::-webkit-scrollbar-thumb:hover {
    background-color: #a8a8a8; /* 鼠标悬停时滑块的底色 */
    }

    /* 主内容区域 */
    .main-content {
        flex: 1; /* 占据剩余所有空间 */
        min-width: 0; /* 重要：防止flex项目溢出 */
        display: flex;
        flex-direction: column;
    //    justify-content: center; // 水平居中
    //    margin-left: 200px; // 与侧边栏宽度相同
    }

    /* 内容包装器 */
    .content-wrapper {
        flex: 1; /* 让内容区域占据剩余垂直空间 */
        padding: 20px;
        max-width: 100%;
    }

    /* 响应式设计：在小屏幕上堆叠显示 */
    @media (max-width: 768px) {
        width:100%;
        flex-direction: column;
        
        .main-sidebar {
            width: 0%;
            position: static;
            display: none;
        }
        
        .main-content {
            order: 1; /* 在移动端让内容显示在前面 */
            margin-left: 0;
            width: 90%;
        }
            /* 确保header和footer在全宽显示 */
    }

    /* 确保header和footer在全宽显示 */
    header, footer {
        width: 100%;
    }
    

    // =============================
    // post.scss
    // =============================
    // Used for single post view.

    $postMaxWidth: 768px;

    // 添加遮罩层和关闭按钮样式（放在文件顶部或合适的位置）
    .zoom-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 1000;
        cursor: zoom-out;
        
        &.active {
            display: block;
        }
    }

    .zoom-close {
        display: none;
        position: fixed;
        top: 20px;
        right: 20px;
        background: #fff;
        color: #333;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        font-size: 24px;
        font-weight: bold;
        cursor: pointer;
        z-index: 1002;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        
        &.active {
            display: block;
        }
        
        &:hover {
            background: #f0f0f0;
        }
    }

    .post{
        padding-top: 30px;
        justify-self: center;
        margin: 0;
        max-width: $postMaxWidth;
        @include flexbox{
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
        }

        &__title{
            font-size: 2rem;
            color: var(--c-postTitle);
            text-align: center;
            font-weight: bold;

            @include for-size('tablet'){
                font-size: 1.2rem;
            }

            &__text{
                text-align: center;
                color: var(--c-postTitle);
                margin-bottom: 0;
            }
        }

        &__meta{


            @include flexbox;
            width: 100%;

            &__divider{
                color: var(--c-postText);
                margin: 0 1rem;

                @include for-size('tablet'){
                    margin-top: 0.8rem;
                }
            }

            &__category{
                text-transform: uppercase;
                margin: 0;
                @include flexbox;

                &__title{
                    color: var(--c-noCategoryText);
                    background: var(--c-noCategoryBackground);
                    padding: .2rem .5rem;
                }

                @include for-size('tablet'){
                    margin-top: 0.8rem;
                    p{
                        margin: 0;
                        width: 100%;
                        text-align: center;
                    }
                    flex-direction: row;
                }
            }

            &__date{

                color: var(--c-postText);
                @include for-size('tablet'){
                    margin-top: .5rem;
                }
            }

            &__author{

                color: var(--c-postText);
                width: fit-content;
                @include flexbox;
        
                &__photo{
                    margin: 0 1rem;
                    width: 2rem;
                    border-radius: 100%;
                }
            }

            @include for-size('tablet'){
                flex-direction: row;
            }
        }

        &__content{
            width: 100%;
            color: var(--c-postText);
            h1{
                font-size: 1.8rem;
            }
            h2{
                font-size: 1.6rem;
            }
            h3{
                font-size: 1.4rem;
            }
            
            // 表格样式
            table {
                margin: 2rem auto; // 水平居中
                border: none;
                width: 100%; 
                table-layout: auto; // 关键：固定布局，列宽平均分配
                overflow-x: auto; // 允许水平滚动
                display: table; // 确保margin: auto生效
                font-size: 0.8rem;
                
                @media (max-width: 768px) {
                    display: table;
                    overflow-x: auto;
                    font-size: 0.75rem;
                    //white-space: nowrap;
                }
            }
            
            th, td {
                padding: 0.75rem;
                border: 1px solid  var(--c-tableBorder);
                text-align: center;
            }
            
            th {
                background-color: var(--c-tableHeader);
                font-weight: bold;
            }
            
            
            tr:hover {
                background-color: var(--c-tableHover);
            }
            
            // 代码块样式
            code {
                /* 英文字体栈优先 */
                font-family:  "Fira Code", "SF Mono", Monaco, "Source Code Pro", "Ubuntu Mono", "Consolas", "Liberation Mono", Menlo, Courier, monospace;
                font-size: 0.9em; /* 可以调整代码字体大小 */
                line-height: 1.4; /* 设置行高以提高可读性 */ 

                @media (max-width: 768px) {
                    overflow-x: auto;
                    width: 100%;
                    font-size: 0.7em; /* 可以调整代码字体大小 */
                    //white-space: nowrap;
                }
            }

            img{
                display: block;             // 关键：让图片成为块级元素才能使用margin居中
                margin: 0 auto;             // 水平居中
                max-width: 100%;
                height: auto;
                transition: transform 0.3s ease, box-shadow 0.3s ease;
                cursor: zoom-in;            // 鼠标指针显示放大镜
                border-radius: 5px;
                // 放大状态的样式
                &.zoomed {
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%) scale(1);
                    max-width: 90vw;
                    max-height: 90vh;
                    z-index: 1001;
                    cursor: zoom-out;
                    box-shadow: 0 0 40px rgba(0, 0, 0, 0.6);
                    margin: 0;
                    
                    // 防止图片过大时失真
                    object-fit: contain;
                }
                
                // 添加悬停效果
                &:not(.zoomed):hover {
                    transform: scale(1.02);
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                }
            }
            // 防止放大时正文内容被遮盖
            &.zooming-active {
                position: relative;
                z-index: 1003;
            }

            /* 当视口宽度小于一定值时，切换字体大小 */
            @media (max-width: 768px) {
                p{
                    font-size: 0.8rem;
                }

                h1{
                    font-size: 1.4rem;
                }

                h2{
                    font-size: 1.2rem;
                }

                h3{
                    font-size: 1rem;
                }

                ul{
                    font-size: 0.8rem;
                }

                li{
                    margin-top: 0.2rem;
                }

                ol{
                    font-size: 0.8rem;
                }
            }
        }

        &__navigator{

            margin-top: 1rem;
            width: 100%;

            &__buttons{

                @include flexbox{
                    justify-content: space-between;
                };

                a{
                    transition: $t-smooth;
                    text-decoration: none;
                    font-weight: bold;
                    font-size: 1.25rem;
                    color: var(--c-navigator);
                    filter: var(--c-navigatorFilter);

                    display: flex;
                    align-items: center;

                    &:hover{
                        letter-spacing: .25rem;
                    }

                    .arrow-left{
                        margin-right: .5rem;
                        height: 1em;
                    }
                    .arrow-right{
                        margin-left: .5rem;
                        height: 1em;
                    }
                }
            }
        }
    }

    // Enable text wrapping on mobile
    @media screen and (max-width: $postMaxWidth){
        .post{
            width: 100%;
            &__content{
                max-width: 100%;
            }
            
            &__content p{
                overflow-wrap: break-word;
            }
        }
    }


}